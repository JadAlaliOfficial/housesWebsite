import{j as e,L as v,S as g}from"./app-uHmCJXjp.js";import{Q as h,S as C}from"./switch-B2sxwyQC.js";import{B as j}from"./logo-Qphi6ZG8.js";import{C as S,a as A,b as T,c as F,d as w}from"./card-CUf0X5yJ.js";import{u as B,a as $,F as D,b as l,c as o,d as n,e as i,f as c,s as O,o as b,g as I,h as L,i as d,j as R,k as V,l as f,m as E}from"./index-C2x7eBuz.js";import{I as m}from"./label-hhf_TJyc.js";import{A as H}from"./app-layout-DMSJMHTn.js";import"./index-Dtgksd5Q.js";import"./tooltip-BTQc-XDf.js";import"./index-BnCxpXz4.js";import"./app-logo-icon-CWB9WgCs.js";const M=[{title:"Dashboard",href:"/dashboard"},{title:"Stages",href:"/stages"},{title:"Create",href:"/stages/create"}],Q=b({order:R.number().int().min(0,{message:"Order must be a positive number or zero."}),name:d().min(2,{message:"Name must be at least 2 characters."}),title:d().min(2,{message:"Title must be at least 2 characters."}),subtitle:d().optional(),description:d().optional(),email_subject:d().optional(),email_content:d().optional(),button_linking:L(b({text:d().min(1,{message:"Button text is required."}),popup:f([d().max(500),E("")]).optional(),status:f([d(),E("")]).optional(),replacing_text:V().optional()})).optional(),image:I().optional()});function ee(){const a=B({resolver:O(Q),defaultValues:{order:0,name:"",title:"",subtitle:"",description:"",email_subject:"",email_content:"",button_linking:[]}}),{fields:k,append:_,remove:y}=$({control:a.control,name:"button_linking"}),N=t=>{var x;const s=new FormData;s.append("order",t.order.toString()),s.append("name",t.name),s.append("title",t.title),t.subtitle&&s.append("subtitle",t.subtitle),t.description&&s.append("description",t.description),t.email_subject&&s.append("email_subject",t.email_subject),t.email_content&&s.append("email_content",t.email_content),t.button_linking&&t.button_linking.length>0&&t.button_linking.forEach((p,u)=>{s.append(`button_linking[${u}][text]`,p.text),p.popup&&s.append(`button_linking[${u}][popup]`,p.popup),p.status&&s.append(`button_linking[${u}][status]`,p.status),s.append(`button_linking[${u}][replacing_text]`,(p.replacing_text||!1).toString())});const r=document.getElementById("image");(x=r==null?void 0:r.files)!=null&&x[0]&&s.append("image",r.files[0]),g.post(route("stages.store"),s,{forceFormData:!0})};return e.jsxs(H,{breadcrumbs:M,children:[e.jsx(v,{title:"Create Stage"}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 bg-[#E6E6E6] p-4 text-[#0a0a0a] dark:bg-[#0a0a0a] dark:text-[#E6E6E6]",children:[e.jsxs(S,{className:"bg-white border-[#3E3E3A] dark:bg-[#121212]",children:[e.jsxs(A,{children:[e.jsx(T,{className:"text-xl font-bold",children:"Create New Stage"}),e.jsx(F,{className:"dark:text-gray-300",children:"Add a new stage to the house building process"})]}),e.jsx(w,{children:e.jsx(D,{...a,children:e.jsxs("form",{onSubmit:a.handleSubmit(N),className:"space-y-4",encType:"multipart/form-data",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsx(l,{control:a.control,name:"order",render:({field:t})=>e.jsxs(o,{children:[e.jsx(n,{children:"Order"}),e.jsx(i,{children:e.jsx(m,{className:"border-[#3E3E3A]",type:"number",placeholder:"0",...t})}),e.jsx(c,{})]})}),e.jsx(l,{control:a.control,name:"name",render:({field:t})=>e.jsxs(o,{children:[e.jsx(n,{children:"Name"}),e.jsx(i,{children:e.jsx(m,{className:"border-[#3E3E3A]",placeholder:"Stage Name",...t})}),e.jsx(c,{})]})})]}),e.jsx(l,{control:a.control,name:"title",render:({field:t})=>e.jsxs(o,{children:[e.jsx(n,{children:"Title"}),e.jsx(i,{children:e.jsx(m,{className:"border-[#3E3E3A]",placeholder:"Stage Title",...t})}),e.jsx(c,{})]})}),e.jsx(l,{control:a.control,name:"subtitle",render:({field:t})=>e.jsxs(o,{children:[e.jsx(n,{children:"Subtitle (Optional)"}),e.jsx(i,{children:e.jsx(m,{className:"border-[#3E3E3A]",placeholder:"Stage Subtitle",...t})}),e.jsx(c,{})]})}),e.jsx(l,{control:a.control,name:"description",render:({field:t})=>e.jsxs(o,{children:[e.jsx(n,{children:"Description (Optional)"}),e.jsx(i,{children:e.jsx(h,{name:t.name,value:t.value||"",onChange:s=>a.setValue("description",s),className:"border-[#3E3E3A] dark:bg-[#1a1a1a] dark:text-[#E6E6E6] dark:placeholder:text-[#62605b]"})}),e.jsx(c,{})]})}),e.jsx(l,{control:a.control,name:"email_subject",render:({field:t})=>e.jsxs(o,{children:[e.jsx(n,{children:"Email Subject (Optional)"}),e.jsx(i,{children:e.jsx(m,{className:"border-[#3E3E3A]",placeholder:"Enter email subject",...t,value:t.value??""})}),e.jsx(c,{})]})}),e.jsx(l,{control:a.control,name:"email_content",render:({field:t})=>e.jsxs(o,{children:[e.jsx(n,{children:"Email Content (Optional)"}),e.jsx(i,{children:e.jsx(h,{name:t.name,value:t.value??"",onChange:s=>a.setValue("email_content",s),className:"border-[#3E3E3A] dark:bg-[#1a1a1a] dark:text-[#E6E6E6] dark:placeholder:text-[#62605b]"})}),e.jsx(c,{})]})}),e.jsxs("div",{className:"flex flex-col space-y-4",children:[e.jsx(n,{children:"Buttons (Optional)"}),k.map((t,s)=>e.jsxs("div",{className:"grid grid-cols-1 gap-4 rounded-md border p-4",children:[e.jsx(l,{control:a.control,name:`button_linking.${s}.text`,render:({field:r})=>e.jsxs(o,{children:[e.jsx(n,{children:"Button Text"}),e.jsx(i,{children:e.jsx(m,{className:"border-[#3E3E3A]",placeholder:"Click Here",...r})}),e.jsx(c,{})]})}),e.jsx(l,{control:a.control,name:`button_linking.${s}.popup`,render:({field:r})=>e.jsxs(o,{children:[e.jsx(n,{children:"Popup Content"}),e.jsx(i,{children:e.jsx(h,{name:r.name,value:r.value||"",onChange:x=>a.setValue(`button_linking.${s}.popup`,x),className:"border-[#3E3E3A] dark:bg-[#1a1a1a] dark:text-[#E6E6E6] dark:placeholder:text-[#62605b]"})}),e.jsx(c,{})]})}),e.jsx(l,{control:a.control,name:`button_linking.${s}.status`,render:({field:r})=>e.jsxs(o,{children:[e.jsx(n,{children:"Status"}),e.jsx(i,{children:e.jsxs(e.Fragment,{children:[e.jsx(m,{className:"border-[#3E3E3A]",placeholder:"null",list:"status-suggestions",...r}),e.jsx("datalist",{id:"status-suggestions",children:e.jsx("option",{value:"on hold"})})]})}),e.jsx(c,{})]})}),e.jsx(l,{control:a.control,name:`button_linking.${s}.replacing_text`,render:({field:r})=>e.jsxs(o,{className:"flex flex-row items-center justify-between rounded-lg border p-3 shadow-sm",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(n,{className:"text-base",children:"Replacing Text"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Enable this to replace the button text dynamically"})]}),e.jsx(i,{children:e.jsx(C,{checked:r.value||!1,onCheckedChange:r.onChange})})]})}),e.jsx(j,{type:"button",variant:"destructive",onClick:()=>y(s),className:"w-1/4 justify-self-start ",children:"Remove Button"})]},t.id)),e.jsx(j,{type:"button",variant:"outline",className:"border-[#3E3E3A] dark:text-[#E6E6E6] dark:hover:border-[#62605b] w-1/4 justify-self-start",onClick:()=>_({text:"",popup:"",status:"",replacing_text:!1}),children:"Add Button"})]}),e.jsxs("div",{children:[e.jsx(n,{children:"Image (Optional)"}),e.jsx(m,{className:"border-[#3E3E3A]",id:"image",type:"file",accept:"image/*"})]}),e.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[e.jsx(j,{type:"button",variant:"outline",onClick:()=>g.visit(route("stages.index")),children:"Cancel"}),e.jsx(j,{type:"submit",children:"Create Stage"})]})]})})})]}),e.jsx("footer",{className:"mt-auto py-2 text-center text-lg text-gray-500 dark:text-gray-400 font-light font-roboto",children:"MADE WITH ❤️ BY -R&D-"})]})]})}export{ee as default};
