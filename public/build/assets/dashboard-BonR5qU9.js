import{r as s,j as e,L as Dt,S as ge}from"./app-uHmCJXjp.js";import{b as pe,c as ve,B as O}from"./logo-Qphi6ZG8.js";import{C as Mt,a as Ot,b as At,c as Lt,d as Ft}from"./card-CUf0X5yJ.js";import{u as Vt,f as Ht,g as Bt,F as Ut,A as Wt,D as be,h as zt,a as Te,b as Ne,c as Ie,e as Ee,d as $t}from"./app-layout-DMSJMHTn.js";import{u as Ae,s as Le,o as tt,i as Pe,m as Kt,j as ot,F as Fe,b as Q,c as ee,d as te,e as oe,f as ne}from"./index-C2x7eBuz.js";import{I as ie}from"./label-hhf_TJyc.js";import{r as nt}from"./index-Dtgksd5Q.js";import{f as qt,u as Ze,b as Gt,a as Y,P as H,c as P,g as se,h as Xt}from"./index-BnCxpXz4.js";import{c as st,R as Yt,u as Xe,A as Zt,P as Jt,V as Qt,h as eo,a as to,D as oo,C as no,b as so}from"./tooltip-BTQc-XDf.js";import{u as ro,C as ao}from"./index-D-i8d5_Q.js";import{P as lo,T as io,a as co,b as Je,c as ce,d as uo,e as de,f as po}from"./table-pXPGeI71.js";import{S as ho}from"./square-pen-Dcn_f_FK.js";import"./app-logo-icon-CWB9WgCs.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mo=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],fo=pe("ArrowRight",mo);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xo=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],rt=pe("ChevronDown",xo);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const go=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],vo=pe("ChevronUp",go);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const So=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"m12 16 4-4-4-4",key:"1i9zcv"}]],jo=pe("CircleArrowRight",So);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wo=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],yo=pe("Link2",wo);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Co=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],bo=pe("Link",Co);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const To=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],No=pe("Users",To);function Qe(o,[n,t]){return Math.min(t,Math.max(n,o))}var at=s.forwardRef((o,n)=>{const{children:t,...a}=o,l=s.Children.toArray(t),u=l.find(Eo);if(u){const i=u.props.children,d=l.map(c=>c===u?s.Children.count(i)>1?s.Children.only(null):s.isValidElement(i)?i.props.children:null:c);return e.jsx(We,{...a,ref:n,children:s.isValidElement(i)?s.cloneElement(i,void 0,d):null})}return e.jsx(We,{...a,ref:n,children:t})});at.displayName="Slot";var We=s.forwardRef((o,n)=>{const{children:t,...a}=o;if(s.isValidElement(t)){const l=Po(t),u=Ro(a,t.props);return t.type!==s.Fragment&&(u.ref=n?qt(n,l):l),s.cloneElement(t,u)}return s.Children.count(t)>1?s.Children.only(null):null});We.displayName="SlotClone";var Io=({children:o})=>e.jsx(e.Fragment,{children:o});function Eo(o){return s.isValidElement(o)&&o.type===Io}function Ro(o,n){const t={...n};for(const a in n){const l=o[a],u=n[a];/^on[A-Z]/.test(a)?l&&u?t[a]=(...d)=>{u(...d),l(...d)}:l&&(t[a]=l):a==="style"?t[a]={...l,...u}:a==="className"&&(t[a]=[l,u].filter(Boolean).join(" "))}return{...o,...t}}function Po(o){var a,l;let n=(a=Object.getOwnPropertyDescriptor(o.props,"ref"))==null?void 0:a.get,t=n&&"isReactWarning"in n&&n.isReactWarning;return t?o.ref:(n=(l=Object.getOwnPropertyDescriptor(o,"ref"))==null?void 0:l.get,t=n&&"isReactWarning"in n&&n.isReactWarning,t?o.props.ref:o.props.ref||o.ref)}var ko=[" ","Enter","ArrowUp","ArrowDown"],_o=[" ","Enter"],Ce="Select",[_e,De,Do]=Ht(Ce),[Se,Rn]=Gt(Ce,[Do,st]),Me=st(),[Mo,re]=Se(Ce),[Oo,Ao]=Se(Ce),lt=o=>{const{__scopeSelect:n,children:t,open:a,defaultOpen:l,onOpenChange:u,value:i,defaultValue:d,onValueChange:c,dir:f,name:S,autoComplete:j,disabled:N,required:I,form:T}=o,h=Me(n),[g,b]=s.useState(null),[m,x]=s.useState(null),[A,R]=s.useState(!1),M=Vt(f),[E=!1,D]=Ze({prop:a,defaultProp:l,onChange:u}),[q,Z]=Ze({prop:i,defaultProp:d,onChange:c}),B=s.useRef(null),U=g?T||!!g.closest("form"):!0,[G,W]=s.useState(new Set),z=Array.from(G).map(k=>k.props.value).join(";");return e.jsx(Yt,{...h,children:e.jsxs(Mo,{required:I,scope:n,trigger:g,onTriggerChange:b,valueNode:m,onValueNodeChange:x,valueNodeHasChildren:A,onValueNodeHasChildrenChange:R,contentId:Xe(),value:q,onValueChange:Z,open:E,onOpenChange:D,dir:M,triggerPointerDownPosRef:B,disabled:N,children:[e.jsx(_e.Provider,{scope:n,children:e.jsx(Oo,{scope:o.__scopeSelect,onNativeOptionAdd:s.useCallback(k=>{W(L=>new Set(L).add(k))},[]),onNativeOptionRemove:s.useCallback(k=>{W(L=>{const $=new Set(L);return $.delete(k),$})},[]),children:t})}),U?e.jsxs(Pt,{"aria-hidden":!0,required:I,tabIndex:-1,name:S,autoComplete:j,value:q,onChange:k=>Z(k.target.value),disabled:N,form:T,children:[q===void 0?e.jsx("option",{value:""}):null,Array.from(G)]},z):null]})})};lt.displayName=Ce;var it="SelectTrigger",ct=s.forwardRef((o,n)=>{const{__scopeSelect:t,disabled:a=!1,...l}=o,u=Me(t),i=re(it,t),d=i.disabled||a,c=Y(n,i.onTriggerChange),f=De(t),S=s.useRef("touch"),[j,N,I]=kt(h=>{const g=f().filter(x=>!x.disabled),b=g.find(x=>x.value===i.value),m=_t(g,h,b);m!==void 0&&i.onValueChange(m.value)}),T=h=>{d||(i.onOpenChange(!0),I()),h&&(i.triggerPointerDownPosRef.current={x:Math.round(h.pageX),y:Math.round(h.pageY)})};return e.jsx(Zt,{asChild:!0,...u,children:e.jsx(H.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:d,"data-disabled":d?"":void 0,"data-placeholder":Rt(i.value)?"":void 0,...l,ref:c,onClick:P(l.onClick,h=>{h.currentTarget.focus(),S.current!=="mouse"&&T(h)}),onPointerDown:P(l.onPointerDown,h=>{S.current=h.pointerType;const g=h.target;g.hasPointerCapture(h.pointerId)&&g.releasePointerCapture(h.pointerId),h.button===0&&h.ctrlKey===!1&&h.pointerType==="mouse"&&(T(h),h.preventDefault())}),onKeyDown:P(l.onKeyDown,h=>{const g=j.current!=="";!(h.ctrlKey||h.altKey||h.metaKey)&&h.key.length===1&&N(h.key),!(g&&h.key===" ")&&ko.includes(h.key)&&(T(),h.preventDefault())})})})});ct.displayName=it;var dt="SelectValue",ut=s.forwardRef((o,n)=>{const{__scopeSelect:t,className:a,style:l,children:u,placeholder:i="",...d}=o,c=re(dt,t),{onValueNodeHasChildrenChange:f}=c,S=u!==void 0,j=Y(n,c.onValueNodeChange);return se(()=>{f(S)},[f,S]),e.jsx(H.span,{...d,ref:j,style:{pointerEvents:"none"},children:Rt(c.value)?e.jsx(e.Fragment,{children:i}):u})});ut.displayName=dt;var Lo="SelectIcon",pt=s.forwardRef((o,n)=>{const{__scopeSelect:t,children:a,...l}=o;return e.jsx(H.span,{"aria-hidden":!0,...l,ref:n,children:a||"▼"})});pt.displayName=Lo;var Fo="SelectPortal",ht=o=>e.jsx(Jt,{asChild:!0,...o});ht.displayName=Fo;var ue="SelectContent",mt=s.forwardRef((o,n)=>{const t=re(ue,o.__scopeSelect),[a,l]=s.useState();if(se(()=>{l(new DocumentFragment)},[]),!t.open){const u=a;return u?nt.createPortal(e.jsx(ft,{scope:o.__scopeSelect,children:e.jsx(_e.Slot,{scope:o.__scopeSelect,children:e.jsx("div",{children:o.children})})}),u):null}return e.jsx(xt,{...o,ref:n})});mt.displayName=ue;var K=10,[ft,ae]=Se(ue),Vo="SelectContentImpl",xt=s.forwardRef((o,n)=>{const{__scopeSelect:t,position:a="item-aligned",onCloseAutoFocus:l,onEscapeKeyDown:u,onPointerDownOutside:i,side:d,sideOffset:c,align:f,alignOffset:S,arrowPadding:j,collisionBoundary:N,collisionPadding:I,sticky:T,hideWhenDetached:h,avoidCollisions:g,...b}=o,m=re(ue,t),[x,A]=s.useState(null),[R,M]=s.useState(null),E=Y(n,p=>A(p)),[D,q]=s.useState(null),[Z,B]=s.useState(null),U=De(t),[G,W]=s.useState(!1),z=s.useRef(!1);s.useEffect(()=>{if(x)return eo(x)},[x]),Bt();const k=s.useCallback(p=>{const[v,..._]=U().map(w=>w.ref.current),[y]=_.slice(-1),C=document.activeElement;for(const w of p)if(w===C||(w==null||w.scrollIntoView({block:"nearest"}),w===v&&R&&(R.scrollTop=0),w===y&&R&&(R.scrollTop=R.scrollHeight),w==null||w.focus(),document.activeElement!==C))return},[U,R]),L=s.useCallback(()=>k([D,x]),[k,D,x]);s.useEffect(()=>{G&&L()},[G,L]);const{onOpenChange:$,triggerPointerDownPosRef:V}=m;s.useEffect(()=>{if(x){let p={x:0,y:0};const v=y=>{var C,w;p={x:Math.abs(Math.round(y.pageX)-(((C=V.current)==null?void 0:C.x)??0)),y:Math.abs(Math.round(y.pageY)-(((w=V.current)==null?void 0:w.y)??0))}},_=y=>{p.x<=10&&p.y<=10?y.preventDefault():x.contains(y.target)||$(!1),document.removeEventListener("pointermove",v),V.current=null};return V.current!==null&&(document.addEventListener("pointermove",v),document.addEventListener("pointerup",_,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",v),document.removeEventListener("pointerup",_,{capture:!0})}}},[x,$,V]),s.useEffect(()=>{const p=()=>$(!1);return window.addEventListener("blur",p),window.addEventListener("resize",p),()=>{window.removeEventListener("blur",p),window.removeEventListener("resize",p)}},[$]);const[he,me]=kt(p=>{const v=U().filter(C=>!C.disabled),_=v.find(C=>C.ref.current===document.activeElement),y=_t(v,p,_);y&&setTimeout(()=>y.ref.current.focus())}),je=s.useCallback((p,v,_)=>{const y=!z.current&&!_;(m.value!==void 0&&m.value===v||y)&&(q(p),y&&(z.current=!0))},[m.value]),fe=s.useCallback(()=>x==null?void 0:x.focus(),[x]),J=s.useCallback((p,v,_)=>{const y=!z.current&&!_;(m.value!==void 0&&m.value===v||y)&&B(p)},[m.value]),le=a==="popper"?ze:gt,r=le===ze?{side:d,sideOffset:c,align:f,alignOffset:S,arrowPadding:j,collisionBoundary:N,collisionPadding:I,sticky:T,hideWhenDetached:h,avoidCollisions:g}:{};return e.jsx(ft,{scope:t,content:x,viewport:R,onViewportChange:M,itemRefCallback:je,selectedItem:D,onItemLeave:fe,itemTextRefCallback:J,focusSelectedItem:L,selectedItemText:Z,position:a,isPositioned:G,searchRef:he,children:e.jsx(to,{as:at,allowPinchZoom:!0,children:e.jsx(Ut,{asChild:!0,trapped:m.open,onMountAutoFocus:p=>{p.preventDefault()},onUnmountAutoFocus:P(l,p=>{var v;(v=m.trigger)==null||v.focus({preventScroll:!0}),p.preventDefault()}),children:e.jsx(oo,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:u,onPointerDownOutside:i,onFocusOutside:p=>p.preventDefault(),onDismiss:()=>m.onOpenChange(!1),children:e.jsx(le,{role:"listbox",id:m.contentId,"data-state":m.open?"open":"closed",dir:m.dir,onContextMenu:p=>p.preventDefault(),...b,...r,onPlaced:()=>W(!0),ref:E,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:P(b.onKeyDown,p=>{const v=p.ctrlKey||p.altKey||p.metaKey;if(p.key==="Tab"&&p.preventDefault(),!v&&p.key.length===1&&me(p.key),["ArrowUp","ArrowDown","Home","End"].includes(p.key)){let y=U().filter(C=>!C.disabled).map(C=>C.ref.current);if(["ArrowUp","End"].includes(p.key)&&(y=y.slice().reverse()),["ArrowUp","ArrowDown"].includes(p.key)){const C=p.target,w=y.indexOf(C);y=y.slice(w+1)}setTimeout(()=>k(y)),p.preventDefault()}})})})})})})});xt.displayName=Vo;var Ho="SelectItemAlignedPosition",gt=s.forwardRef((o,n)=>{const{__scopeSelect:t,onPlaced:a,...l}=o,u=re(ue,t),i=ae(ue,t),[d,c]=s.useState(null),[f,S]=s.useState(null),j=Y(n,E=>S(E)),N=De(t),I=s.useRef(!1),T=s.useRef(!0),{viewport:h,selectedItem:g,selectedItemText:b,focusSelectedItem:m}=i,x=s.useCallback(()=>{if(u.trigger&&u.valueNode&&d&&f&&h&&g&&b){const E=u.trigger.getBoundingClientRect(),D=f.getBoundingClientRect(),q=u.valueNode.getBoundingClientRect(),Z=b.getBoundingClientRect();if(u.dir!=="rtl"){const C=Z.left-D.left,w=q.left-C,F=E.left-w,X=E.width+F,xe=Math.max(X,D.width),we=window.innerWidth-K,Oe=Qe(w,[K,Math.max(K,we-xe)]);d.style.minWidth=X+"px",d.style.left=Oe+"px"}else{const C=D.right-Z.right,w=window.innerWidth-q.right-C,F=window.innerWidth-E.right-w,X=E.width+F,xe=Math.max(X,D.width),we=window.innerWidth-K,Oe=Qe(w,[K,Math.max(K,we-xe)]);d.style.minWidth=X+"px",d.style.right=Oe+"px"}const B=N(),U=window.innerHeight-K*2,G=h.scrollHeight,W=window.getComputedStyle(f),z=parseInt(W.borderTopWidth,10),k=parseInt(W.paddingTop,10),L=parseInt(W.borderBottomWidth,10),$=parseInt(W.paddingBottom,10),V=z+k+G+$+L,he=Math.min(g.offsetHeight*5,V),me=window.getComputedStyle(h),je=parseInt(me.paddingTop,10),fe=parseInt(me.paddingBottom,10),J=E.top+E.height/2-K,le=U-J,r=g.offsetHeight/2,p=g.offsetTop+r,v=z+k+p,_=V-v;if(v<=J){const C=B.length>0&&g===B[B.length-1].ref.current;d.style.bottom="0px";const w=f.clientHeight-h.offsetTop-h.offsetHeight,F=Math.max(le,r+(C?fe:0)+w+L),X=v+F;d.style.height=X+"px"}else{const C=B.length>0&&g===B[0].ref.current;d.style.top="0px";const F=Math.max(J,z+h.offsetTop+(C?je:0)+r)+_;d.style.height=F+"px",h.scrollTop=v-J+h.offsetTop}d.style.margin=`${K}px 0`,d.style.minHeight=he+"px",d.style.maxHeight=U+"px",a==null||a(),requestAnimationFrame(()=>I.current=!0)}},[N,u.trigger,u.valueNode,d,f,h,g,b,u.dir,a]);se(()=>x(),[x]);const[A,R]=s.useState();se(()=>{f&&R(window.getComputedStyle(f).zIndex)},[f]);const M=s.useCallback(E=>{E&&T.current===!0&&(x(),m==null||m(),T.current=!1)},[x,m]);return e.jsx(Uo,{scope:t,contentWrapper:d,shouldExpandOnScrollRef:I,onScrollButtonChange:M,children:e.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:A},children:e.jsx(H.div,{...l,ref:j,style:{boxSizing:"border-box",maxHeight:"100%",...l.style}})})})});gt.displayName=Ho;var Bo="SelectPopperPosition",ze=s.forwardRef((o,n)=>{const{__scopeSelect:t,align:a="start",collisionPadding:l=K,...u}=o,i=Me(t);return e.jsx(no,{...i,...u,ref:n,align:a,collisionPadding:l,style:{boxSizing:"border-box",...u.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});ze.displayName=Bo;var[Uo,Ye]=Se(ue,{}),$e="SelectViewport",vt=s.forwardRef((o,n)=>{const{__scopeSelect:t,nonce:a,...l}=o,u=ae($e,t),i=Ye($e,t),d=Y(n,u.onViewportChange),c=s.useRef(0);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),e.jsx(_e.Slot,{scope:t,children:e.jsx(H.div,{"data-radix-select-viewport":"",role:"presentation",...l,ref:d,style:{position:"relative",flex:1,overflow:"hidden auto",...l.style},onScroll:P(l.onScroll,f=>{const S=f.currentTarget,{contentWrapper:j,shouldExpandOnScrollRef:N}=i;if(N!=null&&N.current&&j){const I=Math.abs(c.current-S.scrollTop);if(I>0){const T=window.innerHeight-K*2,h=parseFloat(j.style.minHeight),g=parseFloat(j.style.height),b=Math.max(h,g);if(b<T){const m=b+I,x=Math.min(T,m),A=m-x;j.style.height=x+"px",j.style.bottom==="0px"&&(S.scrollTop=A>0?A:0,j.style.justifyContent="flex-end")}}}c.current=S.scrollTop})})})]})});vt.displayName=$e;var St="SelectGroup",[Wo,zo]=Se(St),$o=s.forwardRef((o,n)=>{const{__scopeSelect:t,...a}=o,l=Xe();return e.jsx(Wo,{scope:t,id:l,children:e.jsx(H.div,{role:"group","aria-labelledby":l,...a,ref:n})})});$o.displayName=St;var jt="SelectLabel",Ko=s.forwardRef((o,n)=>{const{__scopeSelect:t,...a}=o,l=zo(jt,t);return e.jsx(H.div,{id:l.id,...a,ref:n})});Ko.displayName=jt;var ke="SelectItem",[qo,wt]=Se(ke),yt=s.forwardRef((o,n)=>{const{__scopeSelect:t,value:a,disabled:l=!1,textValue:u,...i}=o,d=re(ke,t),c=ae(ke,t),f=d.value===a,[S,j]=s.useState(u??""),[N,I]=s.useState(!1),T=Y(n,m=>{var x;return(x=c.itemRefCallback)==null?void 0:x.call(c,m,a,l)}),h=Xe(),g=s.useRef("touch"),b=()=>{l||(d.onValueChange(a),d.onOpenChange(!1))};if(a==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return e.jsx(qo,{scope:t,value:a,disabled:l,textId:h,isSelected:f,onItemTextChange:s.useCallback(m=>{j(x=>x||((m==null?void 0:m.textContent)??"").trim())},[]),children:e.jsx(_e.ItemSlot,{scope:t,value:a,disabled:l,textValue:S,children:e.jsx(H.div,{role:"option","aria-labelledby":h,"data-highlighted":N?"":void 0,"aria-selected":f&&N,"data-state":f?"checked":"unchecked","aria-disabled":l||void 0,"data-disabled":l?"":void 0,tabIndex:l?void 0:-1,...i,ref:T,onFocus:P(i.onFocus,()=>I(!0)),onBlur:P(i.onBlur,()=>I(!1)),onClick:P(i.onClick,()=>{g.current!=="mouse"&&b()}),onPointerUp:P(i.onPointerUp,()=>{g.current==="mouse"&&b()}),onPointerDown:P(i.onPointerDown,m=>{g.current=m.pointerType}),onPointerMove:P(i.onPointerMove,m=>{var x;g.current=m.pointerType,l?(x=c.onItemLeave)==null||x.call(c):g.current==="mouse"&&m.currentTarget.focus({preventScroll:!0})}),onPointerLeave:P(i.onPointerLeave,m=>{var x;m.currentTarget===document.activeElement&&((x=c.onItemLeave)==null||x.call(c))}),onKeyDown:P(i.onKeyDown,m=>{var A;((A=c.searchRef)==null?void 0:A.current)!==""&&m.key===" "||(_o.includes(m.key)&&b(),m.key===" "&&m.preventDefault())})})})})});yt.displayName=ke;var ye="SelectItemText",Ct=s.forwardRef((o,n)=>{const{__scopeSelect:t,className:a,style:l,...u}=o,i=re(ye,t),d=ae(ye,t),c=wt(ye,t),f=Ao(ye,t),[S,j]=s.useState(null),N=Y(n,b=>j(b),c.onItemTextChange,b=>{var m;return(m=d.itemTextRefCallback)==null?void 0:m.call(d,b,c.value,c.disabled)}),I=S==null?void 0:S.textContent,T=s.useMemo(()=>e.jsx("option",{value:c.value,disabled:c.disabled,children:I},c.value),[c.disabled,c.value,I]),{onNativeOptionAdd:h,onNativeOptionRemove:g}=f;return se(()=>(h(T),()=>g(T)),[h,g,T]),e.jsxs(e.Fragment,{children:[e.jsx(H.span,{id:c.textId,...u,ref:N}),c.isSelected&&i.valueNode&&!i.valueNodeHasChildren?nt.createPortal(u.children,i.valueNode):null]})});Ct.displayName=ye;var bt="SelectItemIndicator",Tt=s.forwardRef((o,n)=>{const{__scopeSelect:t,...a}=o;return wt(bt,t).isSelected?e.jsx(H.span,{"aria-hidden":!0,...a,ref:n}):null});Tt.displayName=bt;var Ke="SelectScrollUpButton",Nt=s.forwardRef((o,n)=>{const t=ae(Ke,o.__scopeSelect),a=Ye(Ke,o.__scopeSelect),[l,u]=s.useState(!1),i=Y(n,a.onScrollButtonChange);return se(()=>{if(t.viewport&&t.isPositioned){let d=function(){const f=c.scrollTop>0;u(f)};const c=t.viewport;return d(),c.addEventListener("scroll",d),()=>c.removeEventListener("scroll",d)}},[t.viewport,t.isPositioned]),l?e.jsx(Et,{...o,ref:i,onAutoScroll:()=>{const{viewport:d,selectedItem:c}=t;d&&c&&(d.scrollTop=d.scrollTop-c.offsetHeight)}}):null});Nt.displayName=Ke;var qe="SelectScrollDownButton",It=s.forwardRef((o,n)=>{const t=ae(qe,o.__scopeSelect),a=Ye(qe,o.__scopeSelect),[l,u]=s.useState(!1),i=Y(n,a.onScrollButtonChange);return se(()=>{if(t.viewport&&t.isPositioned){let d=function(){const f=c.scrollHeight-c.clientHeight,S=Math.ceil(c.scrollTop)<f;u(S)};const c=t.viewport;return d(),c.addEventListener("scroll",d),()=>c.removeEventListener("scroll",d)}},[t.viewport,t.isPositioned]),l?e.jsx(Et,{...o,ref:i,onAutoScroll:()=>{const{viewport:d,selectedItem:c}=t;d&&c&&(d.scrollTop=d.scrollTop+c.offsetHeight)}}):null});It.displayName=qe;var Et=s.forwardRef((o,n)=>{const{__scopeSelect:t,onAutoScroll:a,...l}=o,u=ae("SelectScrollButton",t),i=s.useRef(null),d=De(t),c=s.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return s.useEffect(()=>()=>c(),[c]),se(()=>{var S;const f=d().find(j=>j.ref.current===document.activeElement);(S=f==null?void 0:f.ref.current)==null||S.scrollIntoView({block:"nearest"})},[d]),e.jsx(H.div,{"aria-hidden":!0,...l,ref:n,style:{flexShrink:0,...l.style},onPointerDown:P(l.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(a,50))}),onPointerMove:P(l.onPointerMove,()=>{var f;(f=u.onItemLeave)==null||f.call(u),i.current===null&&(i.current=window.setInterval(a,50))}),onPointerLeave:P(l.onPointerLeave,()=>{c()})})}),Go="SelectSeparator",Xo=s.forwardRef((o,n)=>{const{__scopeSelect:t,...a}=o;return e.jsx(H.div,{"aria-hidden":!0,...a,ref:n})});Xo.displayName=Go;var Ge="SelectArrow",Yo=s.forwardRef((o,n)=>{const{__scopeSelect:t,...a}=o,l=Me(t),u=re(Ge,t),i=ae(Ge,t);return u.open&&i.position==="popper"?e.jsx(so,{...l,...a,ref:n}):null});Yo.displayName=Ge;function Rt(o){return o===""||o===void 0}var Pt=s.forwardRef((o,n)=>{const{value:t,...a}=o,l=s.useRef(null),u=Y(n,l),i=ro(t);return s.useEffect(()=>{const d=l.current,c=window.HTMLSelectElement.prototype,S=Object.getOwnPropertyDescriptor(c,"value").set;if(i!==t&&S){const j=new Event("change",{bubbles:!0});S.call(d,t),d.dispatchEvent(j)}},[i,t]),e.jsx(Qt,{asChild:!0,children:e.jsx("select",{...a,ref:u,defaultValue:t})})});Pt.displayName="BubbleSelect";function kt(o){const n=Xt(o),t=s.useRef(""),a=s.useRef(0),l=s.useCallback(i=>{const d=t.current+i;n(d),function c(f){t.current=f,window.clearTimeout(a.current),f!==""&&(a.current=window.setTimeout(()=>c(""),1e3))}(d)},[n]),u=s.useCallback(()=>{t.current="",window.clearTimeout(a.current)},[]);return s.useEffect(()=>()=>window.clearTimeout(a.current),[]),[t,l,u]}function _t(o,n,t){const l=n.length>1&&Array.from(n).every(f=>f===n[0])?n[0]:n,u=t?o.indexOf(t):-1;let i=Zo(o,Math.max(u,0));l.length===1&&(i=i.filter(f=>f!==t));const c=i.find(f=>f.textValue.toLowerCase().startsWith(l.toLowerCase()));return c!==t?c:void 0}function Zo(o,n){return o.map((t,a)=>o[(n+a)%o.length])}var Jo=lt,Qo=ct,en=ut,tn=pt,on=ht,nn=mt,sn=vt,rn=yt,an=Ct,ln=Tt,cn=Nt,dn=It;function Ve({...o}){return e.jsx(Jo,{"data-slot":"select",...o})}function He({...o}){return e.jsx(en,{"data-slot":"select-value",...o})}function Be({className:o,children:n,...t}){return e.jsxs(Qo,{"data-slot":"select-trigger",className:ve("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive flex h-9 w-full items-center justify-between rounded-md border bg-transparent px-3 py-2 text-sm shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 [&>span]:line-clamp-1",o),...t,children:[n,e.jsx(tn,{asChild:!0,children:e.jsx(rt,{className:"size-4 opacity-50"})})]})}function Ue({className:o,children:n,position:t="popper",...a}){return e.jsx(on,{children:e.jsxs(nn,{"data-slot":"select-content",className:ve("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border shadow-md",t==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",o),position:t,...a,children:[e.jsx(un,{}),e.jsx(sn,{className:ve("p-1",t==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:n}),e.jsx(pn,{})]})})}function Re({className:o,children:n,...t}){return e.jsxs(rn,{"data-slot":"select-item",className:ve("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",o),...t,children:[e.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:e.jsx(ln,{children:e.jsx(ao,{className:"size-4"})})}),e.jsx(an,{children:n})]})}function un({className:o,...n}){return e.jsx(cn,{"data-slot":"select-scroll-up-button",className:ve("flex cursor-default items-center justify-center py-1",o),...n,children:e.jsx(vo,{className:"size-4"})})}function pn({className:o,...n}){return e.jsx(dn,{"data-slot":"select-scroll-down-button",className:ve("flex cursor-default items-center justify-center py-1",o),...n,children:e.jsx(rt,{className:"size-4"})})}const hn=[{title:"Dashboard",href:"/dashboard"}],et=tt({name:Pe().min(2,{message:"Name must be at least 2 characters."}),email:Pe().email({message:"Please enter a valid email address."}),password:Pe().min(8,{message:"Password must be at least 8 characters."}).optional(),stage:ot.number().min(0,{message:"Stage is required."})}),mn=(o,n)=>{const t=typeof o=="string"?parseFloat(o):o,a=n.find(l=>l.order===t);return a?`${a.order}. ${a.name}`:`Unknown Stage (${t})`};function fn(o){const n=document.cookie.match(new RegExp("(^|;\\s*)"+o+"=([^;]*)"));return n?decodeURIComponent(n[2]):null}function Pn({users:o,stages:n,file:t}){var fe,J,le;const[a,l]=s.useState(!1),[u,i]=s.useState(!1),[d,c]=s.useState(!1),[f,S]=s.useState(!1),[j,N]=s.useState(null),[I,T]=s.useState(null),[h,g]=s.useState(!1),[b,m]=s.useState(null),[x,A]=s.useState(null),R=Ae({resolver:Le(et),defaultValues:{name:"",email:"",password:"",stage:((fe=n[0])==null?void 0:fe.order)??0}}),M=Ae({resolver:Le(et.extend({password:Pe().min(8).optional().or(Kt(""))})),defaultValues:{name:"",email:"",password:"",stage:((J=n[0])==null?void 0:J.order)??0}}),E=Ae({resolver:Le(tt({stage:ot.number().min(0)})),defaultValues:{stage:((le=n[0])==null?void 0:le.order)??0}}),D=n.length>0?Math.max(...n.map(r=>r.order)):0,q=r=>ge.post(route("users.store"),r,{onSuccess:()=>{l(!1),R.reset()}}),Z=r=>{j&&ge.put(route("users.update",j.id),r,{onSuccess:()=>{i(!1),M.reset()}})},B=()=>{j&&ge.delete(route("users.destroy",j.id),{onSuccess:()=>c(!1)})},U=r=>{j&&ge.post(route("users.moveToStage",j.id),r,{onSuccess:()=>{S(!1),E.reset()},preserveScroll:!0})},G=r=>{N(r),M.reset({name:r.name,email:r.email,password:"",stage:typeof r.stage=="string"?parseFloat(r.stage):r.stage}),i(!0)},W=r=>{N(r),c(!0)},z=r=>ge.post(route("users.moveToNextStage",r.id),{},{preserveScroll:!0}),k=r=>{N(r),E.reset({stage:typeof r.stage=="string"?parseFloat(r.stage):r.stage}),S(!0)},L=t!=null&&t.fileLink?t.fileLink.startsWith("http")?t.fileLink:`/storage/${t.fileLink}`:null,$=()=>{if(!I)return;const r=new FormData;r.append("file",I),ge.post(route("admin.trusted-partners.pdf.upload"),r,{forceFormData:!0,onStart:()=>g(!0),onFinish:()=>{g(!1),T(null)}})},V=()=>n.map(r=>e.jsx(Re,{value:r.order.toString(),children:`${r.order}. ${r.name}`},r.id)),he=async(r,p)=>{var v,_;try{const y=(v=document.querySelector('meta[name="csrf-token"]'))==null?void 0:v.content,C=fn("XSRF-TOKEN"),w={"Content-Type":"application/json",Accept:"application/json","X-Requested-With":"XMLHttpRequest"};y&&(w["X-CSRF-TOKEN"]=y),C&&(w["X-XSRF-TOKEN"]=C);const F=await fetch(route(r),{method:"POST",headers:w,body:JSON.stringify({}),credentials:"same-origin"});if(!F.ok){const we=await F.text();throw new Error(`${F.status} ${F.statusText}

${we}`)}const X=await F.json(),xe=X.url??((_=X.props)==null?void 0:_.url);if(!xe)throw new Error("no `url` field in response");await navigator.clipboard.writeText(xe),p({message:"Link copied!",isError:!1})}catch(y){console.error(y),p({message:"Failed to copy link.",isError:!0})}finally{setTimeout(()=>p(null),3e3)}},me=()=>he("temporary.reset-link",m),je=()=>he("temporary.register-link",A);return e.jsxs(Wt,{breadcrumbs:hn,children:[e.jsx(Dt,{title:"Dashboard"}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 bg-[#E6E6E6] p-4 text-[#0a0a0a] dark:bg-[#0a0a0a] dark:text-[#E6E6E6]",children:[e.jsxs(Mt,{className:"bg-white dark:border-[#3E3E3A] dark:bg-[#121212] pb-0",children:[e.jsxs(Ot,{className:"flex justify-between",children:[e.jsxs("div",{children:[e.jsx(At,{className:"text-xl font-bold",children:"Users Management"}),e.jsx(Lt,{className:"dark:text-gray-300",children:"Manage all users and their stages"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(be,{open:a,onOpenChange:l,children:[e.jsx(zt,{asChild:!0,children:e.jsxs(O,{variant:"outline",size:"sm",children:[e.jsx(lo,{className:"mr-2 h-4 w-4"})," Add User"]})}),e.jsxs(Te,{children:[e.jsx(Ne,{children:e.jsx(Ie,{children:"Create New User"})}),e.jsx(Fe,{...R,children:e.jsxs("form",{onSubmit:R.handleSubmit(q),className:"space-y-4",children:[e.jsx(Q,{name:"name",control:R.control,render:({field:r})=>e.jsxs(ee,{children:[e.jsx(te,{children:"Name"}),e.jsx(oe,{children:e.jsx(ie,{...r})}),e.jsx(ne,{})]})}),e.jsx(Q,{name:"email",control:R.control,render:({field:r})=>e.jsxs(ee,{children:[e.jsx(te,{children:"Email"}),e.jsx(oe,{children:e.jsx(ie,{type:"email",...r})}),e.jsx(ne,{})]})}),e.jsx(Q,{name:"password",control:R.control,render:({field:r})=>e.jsxs(ee,{children:[e.jsx(te,{children:"Password"}),e.jsx(oe,{children:e.jsx(ie,{type:"password",...r})}),e.jsx(ne,{})]})}),e.jsx(Q,{name:"stage",control:R.control,render:({field:r})=>e.jsxs(ee,{children:[e.jsx(te,{children:"Stage"}),e.jsxs(Ve,{onValueChange:p=>r.onChange(parseFloat(p)),defaultValue:r.value.toString(),children:[e.jsx(oe,{children:e.jsx(Be,{children:e.jsx(He,{})})}),e.jsxs(Ue,{children:[V(),e.jsx(Re,{value:"0",children:"0. Superadmin"})," "]})]}),e.jsx(ne,{})]})}),e.jsx(Ee,{children:e.jsx(O,{type:"submit",children:"Save"})})]})})]})]}),e.jsxs("div",{className:"flex flex-col items-start",children:[e.jsxs(O,{variant:"outline",size:"sm",onClick:me,children:[e.jsx(yo,{className:"mr-2 h-4 w-4"})," Temp Reset Link"]}),b&&e.jsx("span",{className:`mt-1 text-sm ${b.isError?"text-red-500":"text-green-500"}`,children:b.message})]}),e.jsxs("div",{className:"flex flex-col items-start",children:[e.jsxs(O,{variant:"outline",size:"sm",onClick:je,children:[e.jsx(bo,{className:"mr-2 h-4 w-4"})," Temp Register Link"]}),x&&e.jsx("span",{className:`mt-1 text-sm ${x.isError?"text-red-500":"text-green-500"}`,children:x.message})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ie,{type:"file",accept:"application/pdf",onChange:r=>{var p;return T(((p=r.target.files)==null?void 0:p[0])??null)},className:"w-48"}),e.jsx(O,{variant:"outline",size:"sm",onClick:$,disabled:!I||h,children:h?"Uploading…":"Upload PDF"}),L&&e.jsx(O,{asChild:!0,variant:"outline",size:"sm",children:e.jsx("a",{href:L,target:"_blank",rel:"noopener noreferrer",download:!0,children:"Download PDF"})})]}),e.jsx(No,{className:"text-muted-foreground h-6 w-6"})]})]}),e.jsx(Ft,{children:e.jsxs(io,{children:[e.jsx(co,{children:e.jsxs(Je,{children:[e.jsx(ce,{children:"ID"}),e.jsx(ce,{children:"Name"}),e.jsx(ce,{children:"Email"}),e.jsx(ce,{children:"Stage"}),e.jsx(ce,{children:"Status"}),e.jsx(ce,{children:"Created"}),e.jsx(ce,{className:"text-right",children:"Actions"})]})}),e.jsx(uo,{children:o.map(r=>e.jsxs(Je,{children:[e.jsx(de,{children:r.id}),e.jsx(de,{children:r.name}),e.jsx(de,{children:r.email}),e.jsx(de,{children:r.stage===0?"Superadmin":mn(r.stage,n)}),e.jsx(de,{className:(()=>{const p=typeof r.stage=="string"?parseFloat(r.stage):r.stage;let v=r.status??"Not Requested";return D>0&&p===D&&(v="done"),v==="done"?"text-green-600  font-medium":v==="on hold"?"text-yellow-500  font-medium":v==="Not Requested"||v==="not requested"?"text-red-600  font-medium":""})(),children:(()=>{const p=typeof r.stage=="string"?parseFloat(r.stage):r.stage;let v=r.status??"Not Requested";return D>0&&p===D&&(v="done"),v==="not requested"?"Not Requested":v})()}),e.jsx(de,{children:new Date(r.created_at).toLocaleDateString()}),e.jsxs(de,{className:"space-x-1 text-right",children:[e.jsx(O,{variant:"ghost",size:"sm",onClick:()=>z(r),children:e.jsx(jo,{})}),e.jsx(O,{variant:"ghost",size:"sm",onClick:()=>k(r),children:e.jsx(fo,{})}),e.jsx(O,{variant:"ghost",size:"sm",onClick:()=>G(r),children:e.jsx(ho,{})}),e.jsx(O,{variant:"ghost",size:"sm",onClick:()=>W(r),children:e.jsx(po,{})})]})]},r.id))})]})})]}),e.jsx("footer",{className:"mt-auto py-2 text-center text-lg text-gray-500 dark:text-gray-400 font-light font-roboto",children:"MADE WITH ❤️ BY -R&D-"})]}),e.jsx(be,{open:u,onOpenChange:i,children:e.jsxs(Te,{children:[e.jsx(Ne,{children:e.jsx(Ie,{children:"Edit User"})}),e.jsx(Fe,{...M,children:e.jsxs("form",{onSubmit:M.handleSubmit(Z),className:"space-y-4",children:[e.jsx(Q,{name:"name",control:M.control,render:({field:r})=>e.jsxs(ee,{children:[e.jsx(te,{children:"Name"}),e.jsx(oe,{children:e.jsx(ie,{...r})}),e.jsx(ne,{})]})}),e.jsx(Q,{name:"email",control:M.control,render:({field:r})=>e.jsxs(ee,{children:[e.jsx(te,{children:"Email"}),e.jsx(oe,{children:e.jsx(ie,{type:"email",...r})})]})}),e.jsx(Q,{name:"password",control:M.control,render:({field:r})=>e.jsxs(ee,{children:[e.jsx(te,{children:"Password"}),e.jsx(oe,{children:e.jsx(ie,{type:"password",placeholder:"Leave blank to keep current",...r})}),e.jsx(ne,{})]})}),e.jsx(Q,{name:"stage",control:M.control,render:({field:r})=>e.jsxs(ee,{children:[e.jsx(te,{children:"Stage"}),e.jsxs(Ve,{onValueChange:p=>r.onChange(parseFloat(p)),defaultValue:r.value.toString(),children:[e.jsx(oe,{children:e.jsx(Be,{children:e.jsx(He,{})})}),e.jsxs(Ue,{children:[V(),e.jsx(Re,{value:"0",children:"0. Superadmin"})," "]})]}),e.jsx(ne,{})]})}),e.jsx(Ee,{children:e.jsx(O,{type:"submit",children:"Save"})})]})})]})}),e.jsx(be,{open:d,onOpenChange:c,children:e.jsxs(Te,{children:[e.jsxs(Ne,{children:[e.jsx(Ie,{children:"Delete User"}),e.jsx($t,{children:"Are you sure? This action is irreversible."})]}),e.jsxs(Ee,{children:[e.jsx(O,{variant:"outline",onClick:()=>c(!1),children:"Cancel"}),e.jsx(O,{variant:"destructive",onClick:B,children:"Delete"})]})]})}),e.jsx(be,{open:f,onOpenChange:S,children:e.jsxs(Te,{children:[e.jsx(Ne,{children:e.jsx(Ie,{children:"Move User to Stage"})}),e.jsx(Fe,{...E,children:e.jsxs("form",{onSubmit:E.handleSubmit(U),className:"space-y-4",children:[e.jsx(Q,{name:"stage",control:E.control,render:({field:r})=>e.jsxs(ee,{children:[e.jsx(te,{children:"Stage"}),e.jsxs(Ve,{onValueChange:p=>r.onChange(parseFloat(p)),defaultValue:r.value.toString(),children:[e.jsx(oe,{children:e.jsx(Be,{children:e.jsx(He,{})})}),e.jsxs(Ue,{children:[V(),e.jsx(Re,{value:"0",children:"0. Superadmin"})," "]})]}),e.jsx(ne,{})]})}),e.jsx(Ee,{children:e.jsx(O,{type:"submit",children:"Move"})})]})})]})})]})}export{Pn as default};
